Started GET "/api/users" for ::1 at 2025-12-12 18:09:17 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
Processing by Api::UsersController#index as JSON
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 'staff' /*action='index',application='Backend',controller='users'*/[0m
  â†³ app/views/api/users/index.json.jbuilder:1
  Rendered api/users/index.json.jbuilder (Duration: 4.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'ticket_assigned' for an instance of User)
Caused by: NoMethodError (undefined method 'ticket_assigned' for an instance of User)

Information for: ActionView::Template::Error (undefined method 'ticket_assigned' for an instance of User):
    2:     json.extract! user, :id, :name, :email, :role
    3: 
    4:     json.tickets_assgined do
    5:         json.id user.ticket_assigned.id
    6:         json.title user.ticket_assigned.title
    7:         json.description user.ticket_assigned.description
    8:     end
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'

Information for cause: NoMethodError (undefined method 'ticket_assigned' for an instance of User):
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'
Started GET "/api/users" for ::1 at 2025-12-12 18:10:03 -0500
Processing by Api::UsersController#index as JSON
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 'staff' /*action='index',application='Backend',controller='users'*/[0m
  â†³ app/views/api/users/index.json.jbuilder:1
  Rendered api/users/index.json.jbuilder (Duration: 3.6ms | GC: 0.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.5ms (1 query, 0 cached) | GC: 4.0ms)


  
ActionView::Template::Error (undefined method 'ticket_assigned' for an instance of User)
Caused by: NoMethodError (undefined method 'ticket_assigned' for an instance of User)

Information for: ActionView::Template::Error (undefined method 'ticket_assigned' for an instance of User):
    2:     json.extract! user, :id, :name, :email, :role
    3: 
    4:     json.tickets_assgined do |ticket|
    5:         json.id user.ticket_assigned.id
    6:         json.title user.ticket_assigned.title
    7:         json.description user.ticket_assigned.description
    8:     end
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'

Information for cause: NoMethodError (undefined method 'ticket_assigned' for an instance of User):
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'
Started GET "/api/users" for ::1 at 2025-12-12 18:10:21 -0500
Processing by Api::UsersController#index as JSON
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 'staff' /*action='index',application='Backend',controller='users'*/[0m
  â†³ app/views/api/users/index.json.jbuilder:1
  Rendered api/users/index.json.jbuilder (Duration: 3.7ms | GC: 0.6ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.9ms)


  
ActionView::Template::Error (undefined method 'ticket' for an instance of User)
Caused by: NoMethodError (undefined method 'ticket' for an instance of User)

Information for: ActionView::Template::Error (undefined method 'ticket' for an instance of User):
    2:     json.extract! user, :id, :name, :email, :role
    3: 
    4:     json.tickets_assgined do |ticket|
    5:         json.id user.ticket.id
    6:         json.title user.ticket.title
    7:         json.description user.ticket.description
    8:     end
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'

Information for cause: NoMethodError (undefined method 'ticket' for an instance of User):
  
app/views/api/users/index.json.jbuilder:5
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'
Started GET "/api/users" for ::1 at 2025-12-12 18:10:56 -0500
Processing by Api::UsersController#index as JSON
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 'staff' /*action='index',application='Backend',controller='users'*/[0m
  â†³ app/views/api/users/index.json.jbuilder:1
  Rendered api/users/index.json.jbuilder (Duration: 4.1ms | GC: 1.2ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.9ms (1 query, 0 cached) | GC: 2.2ms)


  
ActionView::Template::Error (undefined local variable or method 'ticketdescription' for an instance of #<Class:0x000000012ce3d3e8>)
Caused by: NameError (undefined local variable or method 'ticketdescription' for an instance of #<Class:0x000000012ce3d3e8>)

Information for: ActionView::Template::Error (undefined local variable or method 'ticketdescription' for an instance of #<Class:0x000000012ce3d3e8>):
    4:     json.tickets_assgined do |ticket|
    5:         json.id ticket.id
    6:         json.title ticket.title
    7:         json.description ticketdescription
    8:     end
    9: 
   10: end
  
app/views/api/users/index.json.jbuilder:7
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'

Information for cause: NameError (undefined local variable or method 'ticketdescription' for an instance of #<Class:0x000000012ce3d3e8>):
  
app/views/api/users/index.json.jbuilder:7
app/views/api/users/index.json.jbuilder:4
app/views/api/users/index.json.jbuilder:1
app/controllers/api/users_controller.rb:4:in 'Api::UsersController#index'
Started GET "/api/users" for ::1 at 2025-12-12 18:11:01 -0500
Processing by Api::UsersController#index as JSON
  Rendering api/users/index.json.jbuilder
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 'staff' /*action='index',application='Backend',controller='users'*/[0m
  â†³ app/views/api/users/index.json.jbuilder:1
  Rendered api/users/index.json.jbuilder (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 1.1ms)


Started GET "/api/users/35" for ::1 at 2025-12-12 18:11:32 -0500
Processing by Api::UsersController#show as JSON
  Parameters: {"id" => "35"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 35 LIMIT 1 /*action='show',application='Backend',controller='users'*/[0m
  â†³ app/controllers/api/users_controller.rb:8:in 'Api::UsersController#show'
  Rendering api/users/show.json.jbuilder
  Rendered api/users/show.json.jbuilder (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 1.8ms (1 query, 0 cached) | GC: 0.8ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateTicketAssignees (20251213212947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to CreateTicketAssignees (20251213212947)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "ticket_assignees" ("id" bigserial primary key, "ticket_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d0d241b290"
FOREIGN KEY ("ticket_id")
  REFERENCES "tickets" ("id")
, CONSTRAINT "fk_rails_1388445c8e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ticket_assignees_on_ticket_id" ON "ticket_assignees" ("ticket_id") /*application='Backend'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ticket_assignees_on_user_id" ON "ticket_assignees" ("user_id") /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_ticket_assignees_on_ticket_id_and_user_id" ON "ticket_assignees" ("ticket_id", "user_id") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251213212947') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddPriorityToTickets (20251213213954)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "tickets" ADD "priority" character varying NOT NULL /*application='Backend'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tickets_on_priority" ON "tickets" ("priority") /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251213213954') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Backend'*/[0m
Migrating to AddConstraintToTicketPriority (20251213214159)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "tickets" ADD CONSTRAINT tickets_priority_check CHECK (priority IN ('low', 'medium', 'high')) /*application='Backend'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tickets" ALTER COLUMN "priority" SET DEFAULT 'medium' /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251213214159') RETURNING "version" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(5073945470573576205) /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Backend'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO "$user", public /*application='Backend'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Backend'*/[0m
  [1m[36mTicket Delete All (2.8ms)[0m  [1m[31mDELETE FROM "tickets" /*application='Backend'*/[0m
  [1m[36mUser Delete All (3.1ms)[0m  [1m[31mDELETE FROM "users" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'KJTCuXReV2KkGbRQZvgiWg' LIMIT 1 /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@gmail.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'KJTCuXReV2KkGbRQZvgiWg' LIMIT 1[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "role", "created_at", "updated_at", "session_token") VALUES ('test@gmail.com', 'Joe B', '$2a$12$hi43r/Ocs4kgC9SRMo4weesPYKxOmLKLLHSuj9/UEaUoYq0twX0CW', 'staff', '2025-12-13 21:49:56.598267', '2025-12-13 21:49:56.598267', 'KJTCuXReV2KkGbRQZvgiWg') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'D4SanNB8iI6FLvlUsSyn0g' LIMIT 1 /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'alice@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'D4SanNB8iI6FLvlUsSyn0g' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "role", "created_at", "updated_at", "session_token") VALUES ('alice@example.com', 'Alice Admin', '$2a$12$naLLlXvCf3cvLSz.CvOemeMBocZBtd5ibLnQ37gZYG8/sUsnaqxHG', 'staff', '2025-12-13 21:49:56.775025', '2025-12-13 21:49:56.775025', 'D4SanNB8iI6FLvlUsSyn0g') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'R5k8ZyacMSCy6fGkQrhFPA' LIMIT 1 /*application='Backend'*/[0m
  â†³ app/models/user.rb:48:in 'User#generate_session_token'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'bob@example.com' LIMIT 1 /*application='Backend'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = 'R5k8ZyacMSCy6fGkQrhFPA' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest", "role", "created_at", "updated_at", "session_token") VALUES ('bob@example.com', 'Bob User', '$2a$12$yj2whJFdT2HEW80BubySmuhAoypXa1dFbHdZlLmttCU3XjBeElExq', 'faculty', '2025-12-13 21:49:56.950967', '2025-12-13 21:49:56.950967', 'R5k8ZyacMSCy6fGkQrhFPA') RETURNING "id" /*application='Backend'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Backend'*/[0m
